{"version":3,"sources":["scripts/parallax-scrolling.js"],"names":["parallaxScrolling","element","setZIndex","layer","isLayerVisible","layerVisible","style","zIndex","closestNumber","prev","curr","Math","abs","parallax","scrollTop","document","querySelector","layers","Array","from","querySelectorAll","length","offsetTop","map","indexOf","reduce","requestAnimationFrame"],"mappings":"AAAA,YAMA,SAASA,mBAAkBC,SAYzB,QAASC,WAAUC,OACjB,GAAIC,gBAAiBD,QAAUE,YAC/BF,OAAMG,MAAMC,OAASH,eACjB,EACA,EAGN,QAASI,eAAcC,KAAMC,MAC3B,MAAOC,MAAKC,IAAIF,KAAOG,SAASC,WAAaH,KAAKC,IAAIH,KAAOI,SAASC,WAClEJ,KACAD,KAlBN,GAHAI,SAAWZ,SAAWY,UAAYE,SAASC,cAAc,uBACzDC,OAASA,QAAUC,MAAMC,KAAKN,SAASO,iBAAiB,sBAEpDH,OAAOI,OAAQ,CACjB,GAAIC,WAAYL,OAAOM,IAAI,SAAApB,OAAA,MAASA,OAAMmB,WAC1CjB,cAAeY,OAAOK,UAAUE,QAAQF,UAAUG,OAAOjB,iBAEzDS,OAAOM,IAAIrB,WACXwB,sBAAsB1B,oBAb1B,GAAIa,UAAAA,OACAI,OAAAA,OACAZ,aAAAA","file":"parallax-scrolling.js","sourcesContent":["'use strict';\n\nlet parallax;\nlet layers;\nlet layerVisible;\n\nfunction parallaxScrolling(element) { // eslint-disable-line no-unused-vars\n  parallax = element || parallax || document.querySelector('.parallax-scrolling');\n  layers = layers || Array.from(parallax.querySelectorAll('.layer-background'));\n\n  if (layers.length) {\n    let offsetTop = layers.map(layer => layer.offsetTop);\n    layerVisible = layers[offsetTop.indexOf(offsetTop.reduce(closestNumber))];\n\n    layers.map(setZIndex);\n    requestAnimationFrame(parallaxScrolling);\n  }\n\n  function setZIndex(layer) {\n    let isLayerVisible = layer === layerVisible;\n    layer.style.zIndex = isLayerVisible\n      ? 5\n      : 0;\n  }\n\n  function closestNumber(prev, curr) {\n    return Math.abs(curr - parallax.scrollTop) < Math.abs(prev - parallax.scrollTop)\n      ? curr\n      : prev;\n  }\n}\n"],"sourceRoot":"/source/"}