{"version":3,"sources":["scripts/parallax-scrolling.js"],"names":["getOffsetTop","layer","offsetTop","closestNumber","prev","curr","Math","abs","parallax","scrollTop","setZIndexLayer","setZIndex","isLayerVisible","layerVisible","style","zIndex","layersOffsetTop","layers","map","indexOf","reduce","requestAnimationFrame","document","querySelector","Array","from","querySelectorAll","length"],"mappings":"AAAA,YAQA,SAASA,cAAaC,OACpB,MAAOA,OAAMC,UAGf,QAASC,eAAcC,KAAMC,MAC3B,MAAOC,MAAKC,IAAIF,KAAOG,SAASC,WAAaH,KAAKC,IAAIH,KAAOI,SAASC,WAClEJ,KACAD,KAGN,QAASM,kBAMP,QAASC,WAAUV,OACjB,GAAIW,gBAAiBX,QAAUY,YAC/BZ,OAAMa,MAAMC,OAASH,eACjB,EACA,EATN,GAAII,iBAAkBC,OAAOC,IAAIlB,cAC7Ba,aAAeI,OAAOD,gBAAgBG,QAAQH,gBAAgBI,OAAOjB,gBAEzEc,QAAOC,IAAIP,WAQXU,sBAAsBX,gBA5BxB,GAAIF,UAAWc,SAASC,cAAc,uBAClCN,OAASO,MAAMC,KAAKH,SAASI,iBAAiB,yCAC9CT,QAAOU,QACTjB","file":"parallax-scrolling.js","sourcesContent":["'use strict';\n\nlet parallax = document.querySelector('.parallax-scrolling');\nlet layers = Array.from(document.querySelectorAll('.parallax-scrolling .layer-background'));\nif (layers.length) {\n  setZIndexLayer();\n}\n\nfunction getOffsetTop(layer) {\n  return layer.offsetTop;\n}\n\nfunction closestNumber(prev, curr) {\n  return Math.abs(curr - parallax.scrollTop) < Math.abs(prev - parallax.scrollTop)\n    ? curr\n    : prev;\n}\n\nfunction setZIndexLayer() {\n  let layersOffsetTop = layers.map(getOffsetTop);\n  let layerVisible = layers[layersOffsetTop.indexOf(layersOffsetTop.reduce(closestNumber))];\n\n  layers.map(setZIndex);\n\n  function setZIndex(layer) {\n    let isLayerVisible = layer === layerVisible;\n    layer.style.zIndex = isLayerVisible\n      ? 5\n      : 0;\n  }\n  requestAnimationFrame(setZIndexLayer);\n}\n"],"sourceRoot":"/source/"}